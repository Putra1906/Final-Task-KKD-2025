# Asymmetric Cryptography Performance Comparison: <br> ECDH-AES vs ElGamal

This repository contains a simple client-server implementation in Python to compare the performance of two cryptographic schemes:

Elliptic Curve Diffie-Hellman (ECDH) for key exchange, combined with AES-GCM for message encryption.<br>
ElGamal for direct message encryption and decryption.<br>
<br>
The main goal of this project is to measure and compare the computational delay (encryption/decryption time) and communication delay (time to transmit encrypted data) between these two approaches.<br>

# üìú Scheme Descriptions
<b>1. ECDH + AES-GCM </b> <br>
This is a hybrid cryptographic system that combines elliptic curve cryptography with symmetric cryptography.

- Key Exchange: The client and server use the Elliptic Curve Diffie-Hellman (ECDH) protocol to agree on a shared secret over an insecure communication channel. <br>
- Key Derivation: The shared secret generated by ECDH is then hashed using SHA256 to produce a secure 256-bit AES key. <br>
- Message Encryption: The message is encrypted and authenticated by the client using AES-256 in GCM mode (Galois/Counter Mode). GCM is chosen because it provides both data confidentiality and authenticity. <br>
- Curve Used: brainpoolP256r1 <br>

<b>2. ElGamal </b> <br>
ElGamal is a classic asymmetric cryptographic system based on the difficulty of the discrete logarithm problem. <br>

- Key Generation: The server generates a key pair: a public key and a private key. The public key is then shared with the client. <br>
- Message Encryption: The client uses the server's public key to directly encrypt the message. <br>
- Message Decryption: The server uses its private key to decrypt the ciphertext received from the client. <br>
- Key Size: This implementation uses a 128-bit ElGamal key for demonstration purposes (can be changed to 256, 512, etc., for higher security). <br>

# ‚öôÔ∏è How It Works
<b> Both implementations follow a client-server architecture: </b>

1. The Server is started first, generating the necessary keys and listening for a client connection.<br>
2. The Client connects to the server.<br>
3. A key exchange (ECDH) or public key transmission (ElGamal) process occurs.<br>
4. The client runs a test by sending an encrypted message NUM_SAMPLES times. For each sample, the client measures:<br>
    - Computational Delay: The time required for the encryption process.<br>
    - Communication Delay: The time required to send the ciphertext and receive a confirmation from the server (Round-Trip Time).<br>
5. After all samples are sent, the client calculates and displays the average for both delay metrics.<br>
6. The server receives and decrypts each message, measuring the decryption time on its end.<br>

# üõ†Ô∏è Prerequisites
Ensure you have Python 3 installed on your system. Then, install the required libraries using pip: <br>
```
pip install tinyec pycryptodome
```
**Note: The ElGamal script uses an implementation from an elgamal.py file, which should be in the same directory. This repository is assumed to include that file.**

# üöÄ How to Run
You must run the server script first in one terminal, and then run the client script in another terminal. <br>

1. Running the ECDH + AES Scheme <br>
- Run the Server :
  ```
  python ecc_server.py
  ```
  The server will listen for connections on 127.0.0.1:65433. <br>
- Run the Client:
  ```
  python ecc_client.py
  ```
  The client will connect to the server, perform the tests, and print the results. <br>
2. Running the ElGamal Scheme <br>
- Run the Server :
  ```
  python elgamal_server.py
  ```
- Run the client :
  ```
  python elgamal_client.py
  ```

# üîß Configuration
You can modify several parameters within the client files (ecc_client.py and elgamal_client.py) for testing: <br>
- NUM_SAMPLES: The number of test samples to run. <br>
- PLAINTEXT_MESSAGE: The message to be encrypted. Change its content to test various plaintext sizes. <br>
- HOST & PORT: The server's address and port if you are running it on a different network. <br>

# üìä Example Client Output (ECDH + AES)
```
----------------- ECC CLIENT -----------------
Starting test with 100 samples...
Plaintext Size: 18 bytes
Sample 1/100 | Comp Delay: 0.0494 ms | Comm Delay: 0.8879 ms
Sample 2/100 | Comp Delay: 0.0163 ms | Comm Delay: 0.6120 ms
...
Sample 100/100 | Comp Delay: 0.0159 ms | Comm Delay: 0.7251 ms

----------------- AVERAGE RESULTS (ECC + AES) -----------------
Total Samples Taken     : 100
Plaintext Size          : 18 bytes
Avg. Computation Delay (AES Encryption) : 0.0171 ms
Avg. Communication Delay (Ciphertext)   : 0.7513 ms
---------------------------------------------------------
```
